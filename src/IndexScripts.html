<script>
  const MAIN_CONTAINER_ID="main-content";
  function handleServerResponse(response, onSuccessReplaceTargetId = null) {
    console.log(response);
    switch (response.status) {

      case 302: // Found/Redirect (Use for successful actions requiring navigation)
      case 303: // See Other (A more semantically correct code for POST-to-GET redirect)
        // **RELOAD THE PAGE/REDIRECT**
        if (response.content) {
          window.location.href = response.content;
        }
        break;

      case 200:
          if (!onSuccessReplaceTargetId) {
              return;
          }
          const targetElement = document.getElementById(onSuccessReplaceTargetId);

          if (targetElement) {
              targetElement.innerHTML = response.content;
          } else {
              console.warn(`Element with ID "${onSuccessReplaceTargetId}" was not found.`);
          }
          break;
      default:
        // if no redirect, local action handled by caller
        break;
    }
  }
</script>